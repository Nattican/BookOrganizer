<Window x:Class="BookOrganizer.Views.MainView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:c="clr-namespace:BookOrganizer.Commands" Title="Book Organizer" Height="400" Width="800" WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <!-- Allows a KeyBinding to be associated with a command defined in the View Model  -->
        <c:CommandReference x:Key="ExitCommandReference" Command="{Binding ExitCommand}" />
    </Window.Resources>

    <Window.InputBindings>
        <KeyBinding Key="Q" Modifiers="Control" Command="{StaticResource ExitCommandReference}" />
    </Window.InputBindings>

    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem IsEnabled="False" Header="Файл">
                <MenuItem Header="Сохранить..." InputGestureText="Ctrl-S"/>
                <MenuItem Header="Сохранить как..."/>
                <Separator/>
                <MenuItem Header="Библиотека"/>
                <!--Все списки в одном-->
            </MenuItem>
            <MenuItem IsEnabled="False" Header="Править">
                <MenuItem Header="Отменить" InputGestureText="Ctrl-Z"/>
                <MenuItem Header="Повторить" InputGestureText="Ctrl-Y"/>
            </MenuItem>

            <MenuItem Header="Что бы почитать?" Click="MenuItem_Click"/>

            <MenuItem Header="BookOrganaizer" >
                <MenuItem IsEnabled="False" Header="О программе..." InputGestureText="Ctrl-O"/>
                <MenuItem IsEnabled="False" Header="Настройки..." InputGestureText="Ctrl-N"/>
                <MenuItem Command="{Binding ExitCommand}" Header="Завершить BookOrganaizer" InputGestureText="Ctrl-Q" />
            </MenuItem>
        </Menu>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="21*"/>
                <ColumnDefinition Width="773*"/>
            </Grid.ColumnDefinitions>
            <DataGrid
                ItemsSource="{Binding CurrentList}"
                AutoGenerateColumns="False"                                                 
                CanUserDeleteRows="False"  
                CanUserAddRows="False"            
                CanUserResizeColumns="True"
                CanUserReorderColumns="False"
                CanUserResizeRows="False"
                AllowDrop="False"
                RowDetailsVisibilityMode="Collapsed"
                IsReadOnly="True" ClipboardCopyMode="ExcludeHeader" SelectionMode="Single"
                VerticalAlignment="Top" Height="303" HorizontalAlignment="Stretch" Grid.ColumnSpan="2" Margin="25,41,25,5">
                <DataGrid.Columns>
                    <DataGridTextColumn
                                        Header="Название"                                                                                  
                                        Binding="{Binding .Title}"/>
                    <DataGridTextColumn
                                        Header="Автор"                                                                                  
                                        Binding="{Binding .Author}"/>
                    <DataGridTextColumn
                                        Header="Год"                                                                                  
                                        Binding="{Binding .Year}"/>
                    <DataGridTextColumn
                                        Header="Жанр"                                                                                  
                                        Binding="{Binding .Genre}" />
                    <DataGridTextColumn
                                        Header="Страницы"                                                                                  
                                        Binding="{Binding .Pages}"/>
                    <DataGridTextColumn
                                        Header="Аннотация"                                                                                  
                                        Binding="{Binding .Annotation}"/>
                    <DataGridTextColumn
                                        Header="Начало"                                                                                  
                                        Binding="{Binding .StartTime}"/>
                    <DataGridTextColumn
                                        Header="Конец"                                                                                  
                                        Binding="{Binding .FinishTime}"/>
                    <DataGridTextColumn
                                        Header="Комментарий"                                                                                  
                                        Binding="{Binding .Comment}"/>
                    <DataGridTextColumn
                                        Header="Оценка"                                                                                  
                                        Binding="{Binding .Mark}"/>

                    <DataGridTemplateColumn>
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Background="Transparent" Height="20" Width="20" Command="{Binding EditBookCommand}" CommandParameter="{Binding .Id}">
                                    <Image Source="C:\Users\shmik\Desktop\BookOrganizer\BookOrganizer\edit.png"/>
                                </Button>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn>
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Background="Transparent" Height="20" Width="20" Command="{Binding DeleteBookCommand}" CommandParameter="{Binding .Id}">
                                    <Image Source="C:\Users\shmik\Desktop\BookOrganizer\BookOrganizer\exit.png"/>
                                </Button>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                </DataGrid.Columns>
            </DataGrid>



            <Grid Grid.Column="1" x:Name = "MyTicks" Margin="10 3 10 0" HorizontalAlignment="Left" Width="600" VerticalAlignment="Top">
                <Grid Width="300" HorizontalAlignment="Left">
                    <TextBlock Text="Читал" TextAlignment="Left" FontSize="13" />
                    <TextBlock Text="Читаю сейчас" HorizontalAlignment="Center" FontSize="13"/>
                    <TextBlock Text="Буду читать" TextAlignment="Right" FontSize="13"/>
                </Grid>
                <Slider Margin="0 15 0 0" Minimum="0" Maximum="2" Value="{Binding SelectedMode, UpdateSourceTrigger=PropertyChanged}"  IsSnapToTickEnabled="true" VerticalAlignment="Top" HorizontalAlignment="Left" TickPlacement="TopLeft" Foreground="#FF281E1E" Width="300"/>

                <Button Margin="400 0 0 0" Height="25" Content="Добавить книгу" Command="{Binding AddBookCommand}"/>

            </Grid>
            <!-- Add additional content here -->
        </Grid>
    </DockPanel>
</Window>
